---
import AboutMe from "@react/Main/tabcontents/AboutMe";
import Contacto from "@react/Main/tabcontents/Contacto";
import Proyectos from "@react/Main/tabcontents/Proyectos";
---

<section
  x-data="tablist"
  class="flex flex-col gap-4 min-w-[clamp(26ch,_50%_,60ch)]"
>
  <!--buttons -->
  <ul
    class="flex sm:inline-flex flex-col xs:flex-row flex-wrap items-center justify-center sm:justify-start gap-4 bg-default p-2 rounded-lg"
    role="tablist"
  >
    <template x-for="tabItem in tabItems" :key="tabItem.id">
      <li role="presentation">
        <button
          role="tab"
          type="button"
          class="p-1 inline-block rounded-lg"
          :class="openTab === tabItem.id ? 'bg-foreground text-background': 'hover:bg-content hover:text-foreground-700 hover:opacity-50 '"
          @click="openTab = tabItem.id"
          x-text="tabItem.label"></button>
      </li>
    </template>
  </ul>
  <!--panels -->
  <section class="flex-1">
    <section  x-show="openTab===1"
      role="tabpanel"
      x-transition:enter="transition ease-[cubic-bezier(0.68,-0.3,0.32,1)] duration-700 transform order-first"
      x-transition:enter-start="opacity-0 -translate-y-8"
      x-transition:enter-end="opacity-100 translate-y-0"
      x-transition:leave="transition ease-[cubic-bezier(0.68,-0.3,0.32,1)] duration-300 transform absolute"
      x-transition:leave-start="opacity-100 translate-y-0"
      x-transition:leave-end="opacity-0 translate-y-12">
      <AboutMe client:only="react" />
    </section>
    <section  x-show="openTab===2"
      role="tabpanel"
      x-transition:enter="transition ease-[cubic-bezier(0.68,-0.3,0.32,1)] duration-700 transform order-first"
      x-transition:enter-start="opacity-0 -translate-y-8"
      x-transition:enter-end="opacity-100 translate-y-0"
      x-transition:leave="transition ease-[cubic-bezier(0.68,-0.3,0.32,1)] duration-300 transform absolute"
      x-transition:leave-start="opacity-100 translate-y-0"
      x-transition:leave-end="opacity-0 translate-y-12">
      <Proyectos client:only="react" />
    </section>
    <section  x-show="openTab===3"
      role="tabpanel"
      x-transition:enter="transition ease-[cubic-bezier(0.68,-0.3,0.32,1)] duration-700 transform order-first"
      x-transition:enter-start="opacity-0 -translate-y-8"
      x-transition:enter-end="opacity-100 translate-y-0"
      x-transition:leave="transition ease-[cubic-bezier(0.68,-0.3,0.32,1)] duration-300 transform absolute"
      x-transition:leave-start="opacity-100 translate-y-0"
      x-transition:leave-end="opacity-0 translate-y-12">
      <Contacto client:only="react" />
    </section>
  </section>

</section>

<script>
  import Alpine from "alpinejs";

  Alpine.data("tablist", () => ({
    openTab: 1,
    tabItems: [
      { id: 1, label: "Sobre Mi" },
      { id: 2, label: "Proyectos" },
      { id: 3, label: "Contacto" },
    ],
  }));
</script>
